(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{7139:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recruiter/recruiter",function(){return o(125)}])},7530:function(e,t){"use strict";t.Z={LOGIN:"/api/v1/auth/login",REGISTER:"/api/v1/auth/register",CANDIDATE:"/api/v1/user/jobs",RECRUITER:"/api/v1/recruiter/jobs"}},8104:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var a=o(5893),n=o(7294),l=o(8228),s=o(3e3),r=o(7530);let i=(e,t,o,a)=>{let{mutateAsync:n}=(0,l.D)(async n=>{let l=await s.b.post(r.Z.RECRUITER,{title:e,description:t,location:o,salary:a},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});return l.data}),i=async e=>{e.preventDefault();let t=localStorage.getItem("token")||"";try{await n(t),alert("Job posting created successfully!")}catch(e){alert("Error creating job posting")}};return{handleSubmit:i}};function c(){let[e,t]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),{handleSubmit:u}=i(e,o,s,c);return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mt-8",children:"Create a Job Posting"}),(0,a.jsxs)("form",{onSubmit:u,className:"bg-white p-6 rounded-lg shadow-md",style:{position:"absolute",top:"160px",left:"442px",width:"557px",height:"480px",borderRadius:"20px",boxShadow:"0px 30px 36px #557DA526",opacity:1},children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"title",children:"Title"}),(0,a.jsx)("textarea",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"title",placeholder:"Enter your title here",value:e,onChange:e=>t(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"description",children:"Description"}),(0,a.jsx)("textarea",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"Enter your description here",value:o,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"location",children:"Location"}),(0,a.jsx)("textarea",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"location",placeholder:"Enter your location here",value:s,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"salary",children:"Salary"}),(0,a.jsx)("textarea",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"salary",placeholder:"Enter your salary here",value:c,onChange:e=>d(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Submit"})]})]})}let d=()=>(0,a.jsx)(c,{});var u=d},3137:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var a=o(5893),n=o(7294),l=o(7848),s=o(7530),r=o(9704),i=o.n(r),c=o(3e3),d=o(3253),u=o.n(d),h=o(8228);let p=(e,t,o)=>{let{mutateAsync:a}=(0,h.D)(async t=>{let o=await c.b.get(s.Z.RECRUITER+"/id?id=".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),a=o.data;return console.log(a),a}),l=async e=>{e.preventDefault();let t=localStorage.getItem("token")||"";try{let e=await a(t);o(e),console.log(e),alert("Here are the list of available applicants for your posted job")}catch(e){alert("No applicants for this position")}};return(0,n.useEffect)(()=>{t&&console.log(t)},[t]),{handleSubmit:l}};var x=o(5434);function b(e){let{jobId:t,closeModal:o}=e,[l,s]=(0,n.useState)([]),{handleSubmit:r}=p(t,l,s);return(0,a.jsx)("div",{className:"min-h-screen py-8",style:{width:"694px",background:"#FFFFFF 0% 0% no-repeat padding-box",opacity:1},children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("button",{onClick:o,className:"close-icon",children:(0,a.jsx)(x.FU5,{})}),(0,a.jsx)("h2",{children:(0,a.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"View Appliccants"})}),(0,a.jsx)("form",{onSubmit:r,className:"mt-8",children:(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Fetch Applicants"})}),l.length>0&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Resume of Applicants"}),l.map(e=>(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 mb-4",children:[(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["ID: ",e.id]}),(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["Resume: ",e.resume]}),(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["UserId: ",e.userId]})]},e.id))]})]})})}let g=()=>{let[e,t]=(0,n.useState)(""),[o,r]=(0,n.useState)(""),[d,h]=(0,n.useState)(1),[p,x]=(0,n.useState)(null),[g,m]=(0,n.useState)(!1),[f,v]=(0,n.useState)(null),[j,y]=(0,n.useState)(!1),w=e=>{v(e),y(!0)},N=()=>{y(!1),v(0)},{data:E,isLoading:I,isError:R,refetch:S}=(0,l.a)(["jobApplications",o],async()=>{let e=localStorage.getItem("token")||"",o=i().decode(e);try{let t=await c.b.get("".concat(s.Z.RECRUITER,"?recruiterId=").concat(o.id,"&currentPage=").concat(d),{headers:{Authorization:"Bearer ".concat(e)}});return console.log(t.data),x(t.data),p}catch(e){throw t("Failed to fetch job applications"),Error("Failed to fetch job applications")}}),C=async()=>{if(d>1){let e=localStorage.getItem("token")||"",t=i().decode(e);try{let o=d-1,a=await c.b.get("".concat(s.Z.RECRUITER,"?recruiterId=").concat(t.id,"&currentPage=").concat(o),{headers:{Authorization:"Bearer ".concat(e)}});x(a.data),h(o)}catch(e){alert("Error fetching jobs")}}},k=async()=>{if(d<p.pagination.totalPages){let e=localStorage.getItem("token")||"",t=i().decode(e);try{let o=d+1,a=await c.b.get("".concat(s.Z.RECRUITER,"?recruiterId=").concat(t.id,"&currentPage=").concat(o),{headers:{Authorization:"Bearer ".concat(e)}});x(a.data),h(o)}catch(e){alert("Error fetching jobs")}}},A=e=>{e.preventDefault(),S()};return I?(0,a.jsx)("div",{children:"Loading..."}):R?(0,a.jsx)("div",{children:e}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mt-8",children:"Your job Postings"}),(0,a.jsx)("form",{onSubmit:A,className:"mt-8"}),p&&p.data.length>0?(0,a.jsx)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.data.map(e=>(0,a.jsxs)("div",{className:"bg-white border-gray-200 shadow-md rounded-lg mb-4 p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["ID: ",e.id]}),(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["Title: ",e.title]}),(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["Description: ",e.description]}),(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["Location: ",e.location]}),(0,a.jsxs)("p",{className:"text-gray-800 font-bold",children:["Salary: ",e.salary]})]})}),(0,a.jsx)("button",{type:"button",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:()=>w(e.id),children:"Fetch Applications"})]},e.id))}):(0,a.jsx)("div",{children:"No job applications found."}),(0,a.jsx)(u(),{isOpen:j,onRequestClose:N,className:"modal",overlayClassName:"modal-overlay",style:{content:{position:"absolute",top:"50px",left:"373px",right:"350px",bottom:"400px",borderRadius:"8px",width:"694px",height:"731px",overflow:"auto",opacity:1},overlay:{backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:1e3}},children:(0,a.jsx)(b,{jobId:f,closeModal:N})}),p&&p.pagination&&(0,a.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-l focus:outline-none focus:shadow-outline",onClick:C,disabled:1===d,children:"Previous"}),(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r focus:outline-none focus:shadow-outline",onClick:k,disabled:d===p.pagination.totalPages,children:"Next"})]})]})},m=()=>(u().setAppElement("#__next"),(0,a.jsx)(g,{}));var f=m},125:function(e,t,o){"use strict";o.r(t);var a=o(5893),n=o(7294),l=o(1163),s=o(2920);o(1399);var r=o(8104),i=o(3137);let c=()=>{let[e,t]=(0,n.useState)("jobApplications"),o=(0,l.useRouter)(),c=e=>{t(e)},d=()=>{localStorage.removeItem("token"),o.push("/auth/login")};return(0,a.jsxs)("div",{className:"min-h-screen py-8",style:{backgroundImage:"linear-gradient(0deg, #EDF6FF 60%, #303F60 60%)"},children:[(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)("button",{className:"py-2 px-4 font-semibold rounded ".concat("jobApplications"===e?"bg-blue-500 text-white":"bg-gray-300 text-gray-700"),onClick:()=>c("jobApplications"),children:"Fetch your job postings"}),(0,a.jsx)("button",{className:"py-2 px-4 font-semibold rounded ".concat("candidatePage"===e?"bg-blue-500 text-white":"bg-gray-300 text-gray-700"),onClick:()=>c("candidatePage"),children:"Create a Job Posting"})]}),(0,a.jsx)("button",{className:"py-2 px-4 font-semibold rounded bg-red-500 text-white",onClick:d,children:"Logout"})]}),"jobApplications"===e?(0,a.jsx)(i.default,{}):(0,a.jsx)(r.default,{})]}),(0,a.jsx)(s.Ix,{})]})};t.default=c},3e3:function(e,t,o){"use strict";o.d(t,{b:function(){return s}});var a=o(6154),n=o(2920),l={LOGIN:"/auth/login",REGISTER:"/auth/register",RECRUITER:"/recruiter/recruiter"};let s=a.Z.create({baseURL:"http://localhost:5005",timeout:3e4});s.interceptors.request.use(e=>{let t=window.localStorage.getItem("accessToken"),o=window.localStorage.getItem("signature"),a=new URLSearchParams(window.location.search);return e.headers["x-device-client"]="agent-partner-panel",e.headers["x-platform-app"]="web",(t||a.get("auth"))&&(e.headers.Authorization=a.get("auth")?"Bearer ".concat(a.get("auth")):"Bearer ".concat(t)),o&&(e.headers["x-device-hash"]=o),e}),s.interceptors.response.use(e=>e,e=>{var t,o,a,s,r,i,c,d;let u=window.location.pathname.includes(l.LOGIN),h=window.location.pathname.includes(l.REGISTER),p=window.location.pathname.includes(l.RECRUITER);if(h&&(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.status)===422)throw n.Am.error("some entities have failed the check"),e;if(u){if(u&&(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===404)throw n.Am.error("Invalid credentials"),e}else console.log("not login page"),(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)===401||(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)===402||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.status)===500?(n.Am.error("Unauthorized Access"),console.log("enter"),window.localStorage.removeItem("accessToken"),window.location.replace(l.LOGIN)):p&&(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.status)===404?(console.log("recruiter"),n.Am.error("No applicants for this position")):((null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.status)===404||(null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.status)===422)&&(console.log("error received"),n.Am.error("Invalid inputs given"))})},1399:function(){},1163:function(e,t,o){e.exports=o(6885)}},function(e){e.O(0,[228,662,714,222,119,848,623,774,888,179],function(){return e(e.s=7139)}),_N_E=e.O()}]);