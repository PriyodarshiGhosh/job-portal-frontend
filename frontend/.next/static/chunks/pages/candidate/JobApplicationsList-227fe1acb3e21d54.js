(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{1940:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/candidate/JobApplicationsList",function(){return o(7746)}])},7530:function(e,t){"use strict";t.Z={LOGIN:"/api/v1/auth/login",REGISTER:"/api/v1/auth/register",CANDIDATE:"/api/v1/user/jobs",RECRUITER:"/api/v1/recruiter/jobs"}},7746:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}});var i=o(5893),n=o(7294),r=o(7848),s=o(3e3),a=o(7530);function l(){let[e,t]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(!0),{data:u,isLoading:p,isError:h}=(0,r.a)(["jobApplications"],async()=>{let e=localStorage.getItem("token")||"";try{let t=await s.b.get(a.Z.CANDIDATE+"/application",{headers:{Authorization:"Bearer ".concat(e)}});return t.data.map(e=>({jobId:e.jobId,resume:e.resume}))}catch(e){throw Error("Failed to fetch job applications")}});return p?(0,i.jsx)("div",{children:"Loading..."}):h?(0,i.jsx)("div",{children:e}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mt-8",children:"Your Job Applications"}),c&&(0,i.jsx)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(e=>(0,i.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4",children:[(0,i.jsx)("p",{className:"text-lg font-medium",children:e.jobId}),(0,i.jsx)("p",{className:"text-gray-600",children:e.resume})]},e.jobId))})]})}let c=()=>(0,i.jsx)(l,{});var d=c},3e3:function(e,t,o){"use strict";o.d(t,{b:function(){return s}});var i=o(6154),n=o(2920),r={LOGIN:"/auth/login",REGISTER:"/auth/register",RECRUITER:"/recruiter/recruiter"};let s=i.Z.create({baseURL:"http://localhost:5005",timeout:3e4});s.interceptors.request.use(e=>{let t=window.localStorage.getItem("accessToken"),o=window.localStorage.getItem("signature"),i=new URLSearchParams(window.location.search);return e.headers["x-device-client"]="agent-partner-panel",e.headers["x-platform-app"]="web",(t||i.get("auth"))&&(e.headers.Authorization=i.get("auth")?"Bearer ".concat(i.get("auth")):"Bearer ".concat(t)),o&&(e.headers["x-device-hash"]=o),e}),s.interceptors.response.use(e=>e,e=>{var t,o,i,s,a,l,c,d;let u=window.location.pathname.includes(r.LOGIN),p=window.location.pathname.includes(r.REGISTER),h=window.location.pathname.includes(r.RECRUITER);if(p&&(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.status)===422)throw n.Am.error("some entities have failed the check"),e;if(u){if(u&&(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===404)throw n.Am.error("Invalid credentials"),e}else console.log("not login page"),(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.status)===401||(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)===402||(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)===500?(n.Am.error("Unauthorized Access"),console.log("enter"),window.localStorage.removeItem("accessToken"),window.location.replace(r.LOGIN)):h&&(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status)===404?(console.log("recruiter"),n.Am.error("No applicants for this position")):((null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.status)===404||(null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.status)===422)&&(console.log("error received"),n.Am.error("Invalid inputs given"))})}},function(e){e.O(0,[464,848,774,888,179],function(){return e(e.s=1940)}),_N_E=e.O()}]);