(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6659:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(1959)}])},7530:function(t,e){"use strict";e.Z={LOGIN:"/api/v1/auth/login",REGISTER:"/api/v1/auth/register",CANDIDATE:"/api/v1/user/jobs",RECRUITER:"/api/v1/recruiter/jobs"}},1959:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return m}});var n=s(5893),o=s(7294),r=s(1163),i=s(5945),a=s(8228),l=s(3e3),u=s(7530);let c=(t,e,s)=>{let n=(0,r.useRouter)();(0,i.NL)();let o=(0,a.D)(async()=>{let n=await l.b.post(u.Z.REGISTER,{email:t,password:e,role:s});return console.log(n),{response:n}},{onSuccess:t=>{n.push("/auth/login")}}),c=t=>{t.preventDefault(),o.mutate()};return{onSubmit:c}};var d=s(2920);function h(){let[t,e]=(0,o.useState)(""),[s,i]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1),{onSubmit:b}=c(t,s,u),[x,v]=(0,o.useState)(!1),f=(0,r.useRouter)(),[g,w]=(0,o.useState)(""),R=()=>{f.push("/auth/login")},y=()=>{v(!0),h("candidate")},N=()=>{v(!1),h("recruiter")},j=t=>{l(t.target.value),m(t.target.value===s)},E=t=>{t.preventDefault(),p?b(t):alert("Passwords do not match")};return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen py-2",style:{backgroundImage:"linear-gradient(0deg,#EDF6FF  60%,#303F60 60%)"},children:(0,n.jsxs)("form",{onSubmit:E,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",style:{position:"absolute",top:"95px",left:"442px",width:"557px",height:"711px",borderRadius:"20px",boxShadow:"0px 30px 36px #557DA526",opacity:1},children:[(0,n.jsx)("h1",{className:"block text-gray-700 font-bold text-3xl mb-2",children:"Register"}),(0,n.jsxs)("div",{className:"flex items-center mb-2",children:[(0,n.jsx)("button",{className:"mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ".concat("candidate"===u?"bg-blue-700":""),onClick:y,type:"button",children:"Candidate"}),(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ".concat("recruiter"===u?"bg-blue-700":""),onClick:N,type:"button",children:"Recruiter"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"email",onChange:t=>e(t.target.value)})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"Enter your password",onChange:t=>i(t.target.value)})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ".concat(p?"":"border-red-500"),id:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:j}),!p&&(0,n.jsx)("p",{className:"text-red-500 text-xs italic",children:"Passwords do not match"})]}),x&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"skills",children:"Skills"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"skills",type:"text",placeholder:"Skills",onChange:t=>w(t.target.value)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",style:{position:"relative",left:"180px",width:"148px",font:"normal normal medium 16px/19px Helvetica Neue",color:"#FFFFFF",opacity:1},children:"Register"}),(0,n.jsx)(d.Ix,{})]}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsxs)("p",{className:"text-gray-700 text-center",children:["Already have an account?"," ",(0,n.jsx)("a",{className:"text-blue-600 hover:text-blue-800 hover:cursor-pointer",onClick:R,children:"Login"})]})})]})})}s(1399);let p=()=>(0,n.jsx)(h,{});var m=p},3e3:function(t,e,s){"use strict";s.d(e,{b:function(){return i}});var n=s(6154),o=s(2920),r={LOGIN:"/auth/login",REGISTER:"/auth/register",RECRUITER:"/recruiter/recruiter"};let i=n.Z.create({baseURL:"http://localhost:5005",timeout:3e4});i.interceptors.request.use(t=>{let e=window.localStorage.getItem("accessToken"),s=window.localStorage.getItem("signature"),n=new URLSearchParams(window.location.search);return t.headers["x-device-client"]="agent-partner-panel",t.headers["x-platform-app"]="web",(e||n.get("auth"))&&(t.headers.Authorization=n.get("auth")?"Bearer ".concat(n.get("auth")):"Bearer ".concat(e)),s&&(t.headers["x-device-hash"]=s),t}),i.interceptors.response.use(t=>t,t=>{var e,s,n,i,a,l,u,c;let d=window.location.pathname.includes(r.LOGIN),h=window.location.pathname.includes(r.REGISTER),p=window.location.pathname.includes(r.RECRUITER);if(h&&(null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.status)===422)throw o.Am.error("some entities have failed the check"),t;if(d){if(d&&(null==t?void 0:null===(e=t.response)||void 0===e?void 0:e.status)===404)throw o.Am.error("Invalid credentials"),t}else console.log("not login page"),(null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.status)===401||(null==t?void 0:null===(i=t.response)||void 0===i?void 0:i.status)===402||(null==t?void 0:null===(a=t.response)||void 0===a?void 0:a.status)===500?(o.Am.error("Unauthorized Access"),console.log("enter"),window.localStorage.removeItem("accessToken"),window.location.replace(r.LOGIN)):p&&(null==t?void 0:null===(l=t.response)||void 0===l?void 0:l.status)===404?(console.log("recruiter"),o.Am.error("No applicants for this position")):((null==t?void 0:null===(u=t.response)||void 0===u?void 0:u.status)===404||(null==t?void 0:null===(c=t.response)||void 0===c?void 0:c.status)===422)&&(console.log("error received"),o.Am.error("Invalid inputs given"))})},1399:function(){},1163:function(t,e,s){t.exports=s(6885)},8228:function(t,e,s){"use strict";s.d(e,{D:function(){return h}});var n=s(7294),o=s(464),r=s(2161),i=s(9886),a=s(81),l=s(3989);class u extends l.l{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;let s=this.options;this.options=this.client.defaultMutationOptions(t),(0,r.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}onUnsubscribe(){if(!this.listeners.length){var t;null==(t=this.currentMutation)||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();let e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let t=this.currentMutation?this.currentMutation.state:(0,i.R)(),e={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){a.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var e,s,n,o,r,i,a,l;t.onSuccess?(null==(e=(s=this.mutateOptions).onSuccess)||e.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(o=this.mutateOptions).onSettled)||n.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null==(r=(i=this.mutateOptions).onError)||r.call(i,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(l=this.mutateOptions).onSettled)||a.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}t.listeners&&this.listeners.forEach(t=>{t(this.currentResult)})})}}var c=s(5945),d=s(4798);function h(t,e,s){let i=(0,r.lV)(t,e,s),l=(0,c.NL)({context:i.context}),[h]=n.useState(()=>new u(l,i));n.useEffect(()=>{h.setOptions(i)},[h,i]);let m=(0,o.$)(n.useCallback(t=>h.subscribe(a.V.batchCalls(t)),[h]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b=n.useCallback((t,e)=>{h.mutate(t,e).catch(p)},[h]);if(m.error&&(0,d.L)(h.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:b,mutateAsync:m.mutate}}function p(){}}},function(t){t.O(0,[222,774,888,179],function(){return t(t.s=6659)}),_N_E=t.O()}]);