(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6659:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(1959)}])},7530:function(e,t){"use strict";t.Z={LOGIN:"/api/v1/auth/login",REGISTER:"/api/v1/auth/register",CANDIDATE:"/api/v1/user/jobs",RECRUITER:"/api/v1/recruiter/jobs"}},1959:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var n=s(5893),o=s(7294),r=s(1163),i=s(5945),a=s(8228),l=s(3e3),u=s(7530);let c=(e,t,s)=>{let n=(0,r.useRouter)();(0,i.NL)();let o=(0,a.D)(async()=>{let n=await l.b.post(u.Z.REGISTER,{email:e,password:t,role:s});return console.log(n),{response:n}},{onSuccess:e=>{n.push("/auth/login")}}),c=e=>{e.preventDefault(),o.mutate()};return{onSubmit:c}};function d(){let[e,t]=(0,o.useState)(""),[s,i]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[h,p]=(0,o.useState)(!1),{onSubmit:m}=c(e,s,u),[b,x]=(0,o.useState)(!1),v=(0,r.useRouter)(),[f,g]=(0,o.useState)(""),w=()=>{v.push("/auth/login")},R=()=>{x(!0),d("candidate")},y=()=>{x(!1),d("recruiter")},N=e=>{l(e.target.value),p(e.target.value===s)},E=e=>{e.preventDefault(),h&&m(e)};return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen py-2",style:{backgroundImage:"linear-gradient(0deg,#EDF6FF  60%,#303F60 60%)"},children:(0,n.jsxs)("form",{onSubmit:E,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",style:{position:"absolute",top:"95px",left:"442px",width:"557px",height:"711px",borderRadius:"20px",boxShadow:"0px 30px 36px #557DA526",opacity:1},children:[(0,n.jsx)("h1",{className:"block text-gray-700 font-bold text-3xl mb-2",children:"Register"}),(0,n.jsxs)("div",{className:"flex items-center mb-2",children:[(0,n.jsx)("button",{className:"mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ".concat("candidate"===u?"bg-blue-700":""),onClick:R,type:"button",children:"Candidate"}),(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ".concat("recruiter"===u?"bg-blue-700":""),onClick:y,type:"button",children:"Recruiter"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"email",onChange:e=>t(e.target.value)})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"Enter your password",onChange:e=>i(e.target.value)})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:N}),!h&&a&&(0,n.jsx)("p",{className:"text-red-500 text-xs italic",children:"Passwords do not match"})]}),b&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"skills",children:"Skills"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"skills",type:"text",placeholder:"Skills",onChange:e=>g(e.target.value)})]}),(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",style:{position:"relative",left:"180px",width:"148px",font:"normal normal medium 16px/19px Helvetica Neue",color:"#FFFFFF",opacity:1},children:"Register"})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsxs)("p",{className:"text-gray-700 text-center",children:["Already have an account?"," ",(0,n.jsx)("a",{className:"text-blue-600 hover:text-blue-800 hover:cursor-pointer",onClick:w,children:"Login"})]})})]})})}s(1399);let h=()=>(0,n.jsx)(d,{});var p=h},3e3:function(e,t,s){"use strict";s.d(t,{b:function(){return i}});var n=s(6154),o=s(2920),r={LOGIN:"/auth/login",REGISTER:"/auth/register",RECRUITER:"/recruiter/recruiter"};let i=n.Z.create({baseURL:"http://localhost:5005",timeout:3e4});i.interceptors.request.use(e=>{let t=window.localStorage.getItem("accessToken"),s=window.localStorage.getItem("signature"),n=new URLSearchParams(window.location.search);return e.headers["x-device-client"]="agent-partner-panel",e.headers["x-platform-app"]="web",(t||n.get("auth"))&&(e.headers.Authorization=n.get("auth")?"Bearer ".concat(n.get("auth")):"Bearer ".concat(t)),s&&(e.headers["x-device-hash"]=s),e}),i.interceptors.response.use(e=>e,e=>{var t,s,n,i,a,l,u,c;let d=window.location.pathname.includes(r.LOGIN),h=window.location.pathname.includes(r.REGISTER),p=window.location.pathname.includes(r.RECRUITER);if(h&&(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)===422)throw o.Am.error("some entities have failed the check"),e;if(d){if(d&&(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===404)throw o.Am.error("Invalid credentials"),e}else console.log("not login page"),(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status)===401||(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.status)===402||(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)===500?(o.Am.error("Unauthorized Access"),console.log("enter"),window.localStorage.removeItem("accessToken"),window.location.replace(r.LOGIN)):p&&(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status)===404?(console.log("recruiter"),o.Am.error("No applicants for this position")):((null==e?void 0:null===(u=e.response)||void 0===u?void 0:u.status)===404||(null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.status)===422)&&(console.log("error received"),o.Am.error("Invalid inputs given"))})},1163:function(e,t,s){e.exports=s(6885)},8228:function(e,t,s){"use strict";s.d(t,{D:function(){return h}});var n=s(7294),o=s(464),r=s(2161),i=s(9886),a=s(81),l=s(3989);class u extends l.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let s=this.options;this.options=this.client.defaultMutationOptions(e),(0,r.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.listeners.length){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,i.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){a.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,s,n,o,r,i,a,l;e.onSuccess?(null==(t=(s=this.mutateOptions).onSuccess)||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(o=this.mutateOptions).onSettled)||n.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(r=(i=this.mutateOptions).onError)||r.call(i,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(l=this.mutateOptions).onSettled)||a.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(e=>{e(this.currentResult)})})}}var c=s(5945),d=s(4798);function h(e,t,s){let i=(0,r.lV)(e,t,s),l=(0,c.NL)({context:i.context}),[h]=n.useState(()=>new u(l,i));n.useEffect(()=>{h.setOptions(i)},[h,i]);let m=(0,o.$)(n.useCallback(e=>h.subscribe(a.V.batchCalls(e)),[h]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b=n.useCallback((e,t)=>{h.mutate(e,t).catch(p)},[h]);if(m.error&&(0,d.L)(h.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:b,mutateAsync:m.mutate}}function p(){}}},function(e){e.O(0,[464,774,888,179],function(){return e(e.s=6659)}),_N_E=e.O()}]);